# PR Visual - Auto-generate infographics for your PRs
#
# Copy this file to your repo as .github/workflows/pr-visual.yml
# Then add your GEMINI_API_KEY to repository secrets.
#
# Get a Gemini API key at: https://aistudio.google.com/apikey

name: PR Visual

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  visualize:
    runs-on: ubuntu-latest
    permissions:
      contents: write      # Required to commit the image to the PR branch
      pull-requests: write # Required to post comments

    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Full history needed for diff

      - name: Generate PR Visual
        uses: YOUR_USERNAME/pr-visual@v1
        with:
          gemini-api-key: ${{ secrets.GEMINI_API_KEY }}
          style: clean  # Options: clean, excalidraw, minimal, tech, playful
          # comment: true  # Set to false to skip posting a comment
